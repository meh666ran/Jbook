# مسائل ابتدایی جاوا

از این قسمت کار برنامه نویسی آغاز می‌شود. زبان جاوا کمی پیچیده است و شروع کردن آن نقطه‌ی خاصی ندارد و حتی در ابتدا نیز ممکن است مجبور باشید با مفاهیمی بیشتر از مفاهیم ابتدایی دست و پنجه نرم کنید. اگر به عنوان یک تازه وارد در هر کجای این کتاب مفهوم یا کلمه‌ی کلیدی خاصی مشاهده کردید که احساس می‌کنید به آن پرداخته نشده، مطمئن باشید در بخش‌های بعدی به آن‌ها پرداخته خواهد شد، زیرا پرداختن به چند موضوع در یک بخش می‌تواند خسته کننده باشد و از طرفی ممکن است مفاهیم پیشرفته‌تر را در مراحل اولیه یادگیری متوجه نشوید و لزوم پرداختن به آن‌ها در بخش‌های بعدی باشد.

جاوا یک زبان برنامه نویسی تماما شی گرا محسوب می‌شود، در واقع هر چیزی که در جاوا می‌بینید یک شی است و از همان ابتدا باید با مفاهیم شی گرایی آشنا باشیم. اما ممکن است درک مفاهیم شی گرایی برای یک کاربر تازه کار ساده نباشد و بهتر باشد از مسائل ساده‌تر شروع به یادگیری کنیم. به همین منظور در این قسمت صرفا با برخی از مفاهیم آشنا خواهیم شد که و در بخش‌های آینده به صورت جدی‌تر به آن‌ها خواهیم پرداخت.

### شی چیست؟ {#what-is-object}

حتما همین حالا که در حال مطالعه‌ی این کتاب هستید، اشیای زیادی را می‌توانید در اطراف خود مشاهده کنید. برای مثال یک خودکار را در نظر بگیرید. تمام اشیا تعدادی ویژگی و تعدادی رفتار دارند، یک خودکار ویژگی‌هایی همچون رنگ، جنس بدنه و ... دارد و رفتاری مانند نوشتن را انجام می‌دهد. اشیا در برنامه نویسی نیز دقیقا به همین صورت عمل می‌کنند، یعنی از تعدادی ویژگی و رفتار تشکیل شده‌اند و می‌توانند کاری را انجام دهند. 

### کلاس چیست؟ {#what-is-class}

همان‌طور که گفتیم تمام اشیا تعدادی ویژگی و رفتار دارند، تمام این ویژگی‌ها و رفتارها درون کلاس‌ها تعریف می‌شوند. در واقع کلاس‌ها طرح‌ها یا نمونه‌هایی از یک شی هستند که می‌توان با استفاده از آن‌ها اشیا را ساخت. هر شی‌ای تمام ویژگی‌ها و رفتارهای کلاس خود را دارد و برخی از این موارد ممکن است قابل تغییر باشند. به صورت کلی برای ساخت یک شی لازم است که ابتدا کلاس مربوط به شی را بسازید و سپس شی را از روی آن کلاس ایجاد کنید. 

### متد چیست؟ {#what-is-method}

متدها را می‌توان به عنوان رفتار شی در نظر گرفت. معمولا هر متد می‌تواند کار یا کارهایی را انجام دهد و در نهایت ممکن است مقداری را برگرداند یا برنگرداند. متدها معمولا در داخل کلاس‌ها تعریف می‌شوند.

### متغیرهای نمونه {#instance-variable}

متغیرهای نمونه، متغیرهایی هستند که در واقع ویژگی‌های اشیا را تشکیل می‌دهند. این متغیرها نیز درون کلاس‌ها قرار می‌گیرند و می‌توانند قابل تغییر باشند یا نباشند.

در بخش‌های بعدی به صورت مفصل‌تر به این مسائل پرداخته خواهد شد.

### اولین برنامه به زبان جاوا {#first-program-in-java}

معمولا وقتی شروع به یادگیری یک زبان برنامه نویسی می‌کنید، اولین برنامه‌ای که می‌نویسید، برنامه‌ای است که یک متن را چاپ می‌کند. در زبان جاوا این برنامه به صورت زیر نوشته می‌شود:


```java
public class Hello {
    public static void main(String []args) {
        System.out.println("Hello World");
    }
}
```
 
 

هر خط از این برنامه را به صورت کاملا خلاصه توضیح می‌دهم و شما نیز بیشتر از این کنجکاوی نکنید زیرا به زودی در بخش‌های پیش‌رو تک تک کلید واژه‌هایی را که در برنامه می‌بینید خواهید فهمید.

خط اول یک کلاس با نام Hello را تعریف می‌کند. 

خط دوم متد اصلی برنامه را تعریف می‌کند.

خط سوم تابع چاپ را فراخوانی می‌کند که عبارت Hello World را چاپ کند. 

### کامپایل و اجرای برنامه {#compile-and-run}

حال اگر بخواهیم این برنامه را اجرا کنیم کافی است یک ویرایش‌گر متن باز کنیم و آن را روی یک فایل بنویسیم. سپس فایل را با نام Hello.java ذخیره کنیم. پس از ذخیره کردن فایل باید به سراغ کامپایلر جاوا \(Javac\) که پیش‌تر معرفی شد، برویم و برنامه را کامپایل کنیم. نحوه‌ی کامپایل یک فایل جاوا به صورت زیر است:

```text
javac file.java
```

مثلا برنامه‌ی بالا را کامپایل می‌کنیم:

```text
➜  ~ javac Hello.java
➜  ~ 
```

وقتی پس از زدن دستور خط فرمان شما به خط بعدی هدایت شد، یعنی برنامه‌ی شما در نوشتار مشکلی ندارد و به درستی کامپایل شده است.

حالا اگر به فایل‌های خود توجه کنید مشاهده خواهید کرد که فایلی با همان نام و با پسوند class ایجاد شده است:

```text
➜  ~ ls
Hello.java       Hello.class
```

\(در مورد این نوع خروجی‌ها و prompt خط فرمان خودم در پرانتز بگویم که من از شل zsh و فریم‌ورک oh my zsh روی سیستم عامل گنو/لینوکس استفاده می‌کنم. و فرمان و خروجی را به همان شکلی که می‌گیرم، کپی می‌کنم تا شما نیز ببینید چه دستوری اجرا شده و خروجی‌اش چه بود. اما نوع شل و شکل خط فرمان هیچ ارتباطی به دستورات ندارد و دستورات جاوا همچون javac و java با هر شل و خط فرمانی اجرا و خروجی مشابه خواهد داشت.

به عنوان مثال در خط فرمان ویندوز، prompt شما این‌گونه است و نتیجه‌ی اجرای دستور کامپایل برنامه‌ای که نوشتیم بدین صورت خواهد بود \(با فرض این‌که فایل برنامه در درایور C قرار دارد.\) :

```text
C:\> javac Hello.java 
C:\>
```

\)

حال برای اجرای برنامه باید از فرمان java کمک بگیریم که آن نیز در قسمت کیت توسعه معرفی شد. نحوه‌ی اجرا کردن یک برنامه‌ی کامپایل شده در زبان جاوا بدین صورت است:

```text
java name
```

دقت کنید هنگام اجرای یک برنامه‌ی کامپایل شده در جاوا، نباید پسوندی قرار دهید و کافی است پس از فرمان java فقط اسم فایل را بدون هیچ‌گونه مورد اضافی \(از جمله پسوند آن\) بنویسید. برای مثال برنامه‌ای که نوشتیم و کامپایل کردیم را در این مرحله اجرا می‌کنیم:

```text
➜  ~ java Hello 
Hello World
```

همان‌طور که مشاهده می‌کنید شاهد خروجی‌ای که انتظار داشتیم هستیم.

### عکس العمل کامپایلر نسبت به برنامه‌ی اشتباه {#compiler-reaction-to-incorrect}

اگر در قسمتی از برنامه‌ی خود اشتباه داشته باشید، هنگام کامپایل زمانی که کامپایلر به خط دارای اشتباه برسد، همان‌جا عملیات کامپایل را متوقف می‌کند و سعی می‌کند شما را از خطای موجود آگاه کند. برای مثال برنامه‌ی زیر را در نظر بگیرید:



```java
public clas Hello {
    public static void main(String []args) {
        System.out.println("Hello World");
    }
}
```
 
 

در خط اول برنامه‌ی بالا کلمه‌ی کلیدی "class" به شکل غلط "clas" نوشته شده است. حال بیاید سعی کنیم آن‌را کامپایل کنیم و نتیجه را ببینیم:

```text
➜  ~ javac Hello.java 
Hello.java:1: error: class, interface, or enum expected
public clas Hello {
       ^
Hello.java:2: error: class, interface, or enum expected
        public static void main(String []args) {
                      ^
Hello.java:4: error: class, interface, or enum expected
        }
        ^
3 errors
```

همان‌طور که می‌بینید برنامه کامپایل نشد و سه خطا دریافت کردیم که به ترتیب به آن‌ها می‌پردازیم:

نحوه‌ی نمایش خطا در کامپایلر جاوا بدین صورت است که در خط اول ابتدا نام فایل، سپس خطی که دارای مشکل است و پس از آن نوع خطا را به ما نمایش می‌دهد. در خط‌های بعدی به قسمتی که باعث رخ دادن خطای مربوطه شده است اشاره می‌کند.

**خطای اول:** همان‌گونه که از متن خطا مشخص است، کامپایلر انتظار یک کلاس یا اینترفیس یا enum را به جای کلمه‌ی clas دارد.

**خطای دوم:** متن خطا مشابه اولین است که در اینجا اشاره‌ی خطا به کلمه‌ی void است که یکی از کلمات کلیدی ساختن متد است. \(در بخش‌های مربوط به متد با این موضوع آشنا خواهید شد.\) و دوباره انتظارات بالا را از ما دارد زیرا یک متد عموما باید درون یک کلاس ساخته شود. 

**خطای سوم:** و اما مانند دو خطای دیگر، متن این خطا نیز مشابه است، اما اشاره‌ی آن به کاراکتر " { " در خط چهارم است. دو کاراکتر " } " و " { " برای تعیین محل شروع و پایان کلاس‌ها، توابع، شرط‌ها، حلقه‌ها و سایر بلوک کد‌ها استفاده می‌شود که در اینجا هدف کامپایلر در خط چهارم چیزی به جز متد main ما نیست. در واقع چون کلاسی وجود ندارد، متدی نمی‌تواند وجود داشته باشد و وقتی متدی وجود نداشته باشد نقطه‌ی پایانی نیز ندارد !

بیشتر خطاها را می‌توان با خواندن متن خطایی که کامپایلر به ما می‌دهد، تصحیح کرد. همیشه بهتر است برای رفع خطا از اولین خطا رفع کردن آن را آغاز کنید و دوباره آن را کامپایل کنید و اگر مجدد خطایی مشاهده کردید دو مرحله‌ی قبل یعنی رفع خطا و کامپایل را مجدد انجام دهید و به همین ترتیب آن‌قدر ادامه دهید تا کامپایل برنامه موفقیت آمیز باشد.

 در اینجا برای رفع خطا کافی‌است در خط اول کلمه‌ی clas را با class جایگزین کنیم و پس از کامپایل مجدد خواهید دید که دو خطای دیگر نیز رفع شده‌اند زیرا آن دو به علت خطای پیش آمده در قسمت اول، دچار مشکل شده بودند.  

### متغیرها

ساده ترین شرح متغیرها کار آن‌ها است! کار متغیرها نگه‌داری داده‌ها با توجه به نوع داده و استفاده از شناسه‌ای که به آن می‌دهید، است. 

سه نوع متغیر در جاوا وجود دارند که عبارت‌اند از:

۱. **متغیرهای محلی**

۲. **متغیر‌های کلاس \(استاتیک\)**

۳. **متغیرهای نمونه \(غیر استاتیک\)**

### شناسه‌ها در جاوا

تمام اجزای برنامه در زبان جاوا نیاز به شناسه دارند. شناسه نامی است که برای متغیرها، کلاس‌ها و متدها انتخاب می‌کنیم. در زبان جاوا چندین قانون برای انتخاب نام شناسه‌ها وجود دارد که در ادامه به آن می‌پردازیم.

۱. نام تمام شناسه‌ها باید با یک حرف \(از A تا Z یا از a تا z\)، علامت دلار \($\) یا یک آندرلاین \(\_\) آغاز شود.

۲. پس از کاراکتر اول، شناسه‌ها می‌توانند هر ترکیبی از حروف را داشته باشند.

۳. کلمات کلیدی نمی‌توانند به عنوان شناسه‌ استفاده شوند.

۴. شناسه‌ها به حروف بزرگ و کوچک حساس هستند.

### کلمات کلیدی جاوا

همان‌طور که ذکر شد کلمه‌های کلیدی را نمی‌توانید به عنوان شناسه‌های خود استفاده کنید. در جدول زیر می‌توانید تمامی این کلمات کلیدی را به ترتیب حروف الفبا مشاهده کنید:

|  |  |  |  |
| :--- | :--- | :--- | :--- |
| `abstract` | `assert` | `boolean` | `break` |
| `byte` | `case` | `catch` | `char` |
| `class` | `const` | `continue` | `default` |
| `do` | `double` | `else` | `enum` |
| `extends` | `final` | `finally` | `float` |
| `for` | `goto` | `if` | `implements` |
| `import` | `instanceof` | `int` | `interface` |
| `long` | `native` | `new` | `package` |
| `private` | `protected` | `public` | `return` |
| `short` | `static` | `strictfp` | `super` |
| `switch` | `synchronized` | `this` | `throw` |
| `throws` | `transient` | `try` | `void` |
| `volatile` | `while` |  |  |

### کامنت‌ها

اگر با زبان‌های برنامه نویسی دیگر کار کرده باشید، حتما با کامنت‌ها آشنا هستید. کامنت‌ها خط هایی هستند که توسط کامپایلر خوانده نمی‌شوند و وجود آن‌ها تغییری را در روند کامپایل و اجرای برنامه حاصل نمی‌کنند. از کامنت‌ها معمولا برای درج توضیح استفاده می‌شود.

 مثلا اگر کد خود را به برنامه نویس دیگری بدهید، کامنت‌ها می‌توانند کمک بسیار شایانی در فهمیدن کد توسط آن فرد داشته باشد. همچنین خودتان نیز اگر پس از مدتی به کدتان نگاه کنید ممکن است بسیاری از منطق برنامه‌تان را نتوانید به سادگی درک کنید! اما با استفاده از کامنت گذاری درست و به جا می‌توانید از این مشکلات پیشگیری کنید.

البته کامنت‌ها صرفا برای توضیحات نیستند و می‌توانید به هر منظوری از آن‌ها استفاده کنید.

در جاوا دو نوع کامنت داریم:

۱. **کامنت‌های تک خطی** - فقط یک خط را کامنت می‌کند.

۲. **چند خطی** - قادر هستند چندین خط را کامنت کنند.

نحوه‌ی استفاده از کامنت‌ها در جاوا به شکل زیر است:

```java
// این  یک کامنت تک خطی است !
// this is a single-line comment

/* this is a mutli-line comment
* this is second line
* this is third line
* و این هم خط چهارم !
*/
```

همان‌طور که گفتم کامنت‌ها توسط کامپایلر خوانده نمی‌شوند و در نتیجه بود و نبود آن‌ها تاثیری در روند برنامه ندارد. پس می‌توانید آن‌ها را به هر شکل و زبانی بنویسید و از هر کاراکتری درون آن‌ها استفاده کنید. اما همیشه سعی کنید کامنت‌هایی منظم، واضح و مربوط به کد خود بنویسید، برای روشن‌تر شدن موضوع برنامه‌ی hello world را به صورت کامنت گذاری شده می‌توانید مشاهده کنید:



```java
// main class
public class Hello {
    // main method
    public static void main(String []args) {
        // print Hello World
        System.out.println("Hello World");
    }
}
```
 
 

**معمولا قسمت‌های بدیهی برنامه نیازی به کامنت گذاری ندارند و بیشتر کامنت‌ها در قسمت‌های پیچیده‌ی برنامه کاربرد دارند و مثال بالا صرفا جهت مثال زدن بود!**

### اصلاح کننده‌ها {#modifiers}

مانند بیشتر زبان‌های برنامه نویسی، در جاوا نیز تغییر دادن کلاس‌ها، متدها و ... با استفاده از تغییر دهنده‌ها یا اصلاح کننده‌ها امکان پذیر است. در جاوا دو نوع تغییر دهنده داریم که عبارت‌اند از:

۱. تغییر دهنده‌های دسترسی - پیش‌فرض، `public`، `protected` و `private` 

۲. تغییردهنده‌های غیردسترسی - `final`، `abstract` و `strictfp` 

### Enum ها

با استفاده از مفهوم enum که یکی از مفاهیم پرکاربرد در شی گرایی جاوا است، قادر خواهید بود که یک متغیر را به چند مقدار از پیش تعیین شده محدود کنید. به این مقادیر از پیش تعیین شده اصطلاحا enum گفته می‌شود. با استفاده از enum ها می‌توانید ایرادات برنامه‌ی خود را کاهش دهید. 

فرض کنید قصد دارید برای یک فروشگاه خودرو برنامه‌ای بنویسید؛ این فروشگاه فقط خودروهایی از برند بنز، شورولت و آئودی می‌فروشد. حال شما می‌توانید مقدار متغیر برند را فقط به این سه برند محدود کنید و این گونه می‌توان مطمئن شد که امکان نخواهد داشت کسی بتواند متغیر برند را به جز این سه مقدار، تغییر دهد. به مثال زیر توجه کنید:


 
```java
// make a class for car shop
class CarShop {
// make an enum to define some predefined values
   enum CarBrandNames{ Benz, Chevrolet, Audi }
   // assign predefined values to brand variable
   CarBrandNames brand;
}
public class BrandNameTest {
   public static void main(String []args) {
   // make an object from CarShop class named myCarshop
      CarShop myCarShop = new CarShop();
      // Assign Chevrolet Value to brand Variable
      myCarShop.brand = CarShop.CarBrandNames.Chevrolet;
      System.out.println("Brand is: " + myCarShop.brand);
   }
}
```
 
 

به  قسمت‌های مربوط به enum ها توجه کنید. همان‌طور که در کامنت‌ها مشخص است،  ابتدا یک enum با نام `CarBrandNames` و مقادیر مشخص درون کلاسی به نام `CarShop` ساختیم و سپس آن را به متغیر `brand` اختصاص دادیم. حال در کلاس و متد اصلی برنامه، از کلاس قبلی خود یک شی ساختیم و مقدار Chevrolet را به متغیر `brand` اختصاص دادیم و سپس آن را چاپ کردیم. دقت کنید که متغیر `brand` به جز سه مقدار موجود در enum، هیچ مقدار دیگری را نمی‌پذیرد.

حال بیاید برنامه را کامپایل کنیم و سپس اجرا کنیم تا شاهد نتیجه‌ی آن باشیم:

```text
➜  /tmp javac BrandNameTest.java
➜  /tmp java BrandNameTest 
Brand is: Chevrolet
```

نتیجه‌ای که انتظارش را داشتیم حاصل شد.

 اگر از برنامه‌ی بالا چیزی متوجه نشدید جای نگرانی نیست در این بخش صرفا هدف بر روی `enum` بود و همچنین بسیاری از مفاهیمی که در این برنامه استفاده شده را صرفا معرفی کردیم. در بخش‌های آینده چگونگی نوشتن و کارکرد تک تک آن‌ها را خواهید آموخت.



